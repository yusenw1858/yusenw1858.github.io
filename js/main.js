var html,mask,mobileNav;function tableWrap(){$queryAll(".post-content>table,.content>table").forEach(function(e){wrap(e,"div",null,"table-wrap")})}function openMobile(){var e=$query(".open-nav");e&&(e.onclick=function(){mobileNav.classList.contains("open-mobile")||(mobileNav.className="open-mobile",mask.className="mask")})}function closeAll(){var e=$id("local-search");e&&(e.classList.remove("search-animation-max"),e.classList.add("search-animation-min"),setTimeout(function(){e.style.display=""},500)),html.style.overflow="auto",mobileNav.classList.remove("open-mobile"),mobileNav.style.opacity="",mask.className=""}function DarkMode(){var e,t,o;$id("darkmode")&&(e=document.getElementsByTagName("body")[0],t=$id("darkmode"),o=$query("#darkmode i"),"true"===localStorage.isDark?(html.setAttribute("theme","dark"),o.classList.remove("fa-moon"),o.classList.add("fa-sun")):(html.removeAttribute("theme"),o.classList.remove("fa-sun"),o.classList.add("fa-moon")),t.onclick=function(){"true"!==localStorage.isDark?(localStorage.isDark="true",e.style="transition: all .3s linear",html.setAttribute("theme","dark"),o.classList.remove("fa-moon"),o.classList.add("fa-sun")):(localStorage.isDark="false",e.style="transition: all .3s linear",html.removeAttribute("theme"),o.classList.remove("fa-sun"),o.classList.add("fa-moon"))})}function scrollFn(){var n=0;window.addEventListener("scroll",throttle(function(){var e,t=document.documentElement.clientHeight,o=window.scrollY||document.documentElement.scrollTop,a=$query(".navbar"),a=(n=(a.style.transform=n<o?"translateY(-60px)":"",o),$query(".post-content")),l=$query(".num");a&&l&&(e=a.offsetTop,a=t<(a=a.clientHeight)?a-t:document.documentElement.scrollHeight-t,t=Math.round(100*((o-e)/a)),l.innerText=(o=100<t?100:t<=0?0:t)+"%",$query(".progress").value=o)},100))}function articlePage(){if($id("post")){if($queryAll("figure.highlight").forEach(function(e){var t="plaintext"==(t=e.classList[1])?"code":t;e.insertAdjacentHTML("afterbegin",`<div class='code-block' lang='${t}'>
            <span class='clipboard'><i class='fa fa-clipboard'></i></span>
        </div>`)}),getScript($config.CDN.fancyboxJs,function(){const e=$queryAll(".post-content img");e.forEach(e=>e.setAttribute("data-fancybox",""));var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=$config.CDN.fancyboxCss,document.head.appendChild(t)}),$config.codeBlockExpand&&$config.codeBlockExpand.enable){for(var e=$queryAll("figure.highlight"),l=$config.codeBlockExpand.height,t=0;t<e.length;t++)e[t].clientHeight>l&&(e[t].style="max-height: "+l+"px",e[t].insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="fas fa-angle-down"></i></div>'));$queryAll(".show-btn").forEach(function(a){a.onclick=function(){var e,t,o=a.childNodes[0];"fas fa-angle-down"==o.className?(o.classList.remove("fa-angle-down"),o.classList.add("fa-angle-up"),a.parentNode.style=""):(o.classList.remove("fa-angle-up"),o.classList.add("fa-angle-down"),a.parentNode.style="max-height: "+l+"px",a.previousElementSibling.style="",scrollTop=document.documentElement.scrollTop||document.body.scrollTop,o=a.getBoundingClientRect().bottom+scrollTop,e=$config.codeBlockExpand.height,t=$config.codeBlockExpand.scrollTop,window.scrollTo(0,o-e-t))}})}var o,a;o=$id("open-toc"),a=$id("toc-wrap"),o&&a&&(o.onclick=function(){parseInt(a.style.opacity)?(a.style.animation="toc-close .3s",setTimeout(function(){a.style="opacity:0;animation:'';right: ''"},150)):a.style="opacity:1;right:30px;animation: toc-open .3s"}),$queryAll("figure.highlight").forEach(function(t){var o=t.firstChild.childNodes[1];o.onclick=function(){var e=window.getSelection();e.selectAllChildren(t.querySelector(".code")),navigator.clipboard?navigator.clipboard.writeText(e.toString()):document.execCommand("copy"),e.removeAllRanges(),o.innerHTML='<i class="fa fa-check" style="color:green"></i>',setTimeout(function(){o.innerHTML='<i class="fa fa-clipboard"></i>'},2e3)}})}}function exeAllFn(){html=document.getElementsByTagName("html")[0],mask=$id("mask"),mobileNav=$id("mobile-nav"),articlePage(),tableWrap(),openMobile(),closeAll(),DarkMode(),scrollFn()}window.onload=exeAllFn;